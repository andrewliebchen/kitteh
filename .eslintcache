[{"/Users/liebchen/Code/kitteh/src/index.js":"1","/Users/liebchen/Code/kitteh/src/reportWebVitals.js":"2","/Users/liebchen/Code/kitteh/src/App.js":"3","/Users/liebchen/Code/kitteh/src/AppContext.js":"4","/Users/liebchen/Code/kitteh/src/AppProvider.js":"5","/Users/liebchen/Code/kitteh/src/AnimalList.js":"6","/Users/liebchen/Code/kitteh/src/Foster.js":"7","/Users/liebchen/Code/kitteh/src/hooks.js":"8","/Users/liebchen/Code/kitteh/src/Animal.js":"9","/Users/liebchen/Code/kitteh/src/theme.js":"10","/Users/liebchen/Code/kitteh/src/TimeSelect.js":"11","/Users/liebchen/Code/kitteh/src/UnitSelect.js":"12","/Users/liebchen/Code/kitteh/src/helpers.js":"13","/Users/liebchen/Code/kitteh/src/Weight.js":"14"},{"size":738,"mtime":1612284298531,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1611898043736,"results":"17","hashOfConfig":"16"},{"size":627,"mtime":1612322298121,"results":"18","hashOfConfig":"16"},{"size":72,"mtime":1611898043736,"results":"19","hashOfConfig":"16"},{"size":655,"mtime":1612287283713,"results":"20","hashOfConfig":"16"},{"size":3138,"mtime":1612319521733,"results":"21","hashOfConfig":"16"},{"size":773,"mtime":1612250366281,"results":"22","hashOfConfig":"16"},{"size":2590,"mtime":1612320392100,"results":"23","hashOfConfig":"16"},{"size":3351,"mtime":1612321972436,"results":"24","hashOfConfig":"16"},{"size":2633,"mtime":1612285467164,"results":"25","hashOfConfig":"16"},{"size":784,"mtime":1612250411225,"results":"26","hashOfConfig":"16"},{"size":642,"mtime":1612322109644,"results":"27","hashOfConfig":"16"},{"size":191,"mtime":1612321199058,"results":"28","hashOfConfig":"16"},{"size":399,"mtime":1612320733316,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"gvvh9",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/Users/liebchen/Code/kitteh/src/index.js",[],["64","65"],"/Users/liebchen/Code/kitteh/src/reportWebVitals.js",[],"/Users/liebchen/Code/kitteh/src/App.js",[],"/Users/liebchen/Code/kitteh/src/AppContext.js",[],"/Users/liebchen/Code/kitteh/src/AppProvider.js",["66","67","68"],"import { toast } from \"react-toastify\";\nimport Airtable from \"airtable\";\nimport AppContext from \"./AppContext\";\nimport { useState } from \"react\";\nimport { useAirtable } from \"./hooks\";\n\n// TODO: Convert units to g when submitted\n// Can the creation things move into the components?\n\nconst AppProvider = props => {\n  const [timestamp, setTimestamp] = useState(\"now\");\n  const [unit, setUnit] = useState(\"grams\");\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...props,\n        timestamp,\n        setTimestamp,\n        unit,\n        setUnit\n      }}\n    >\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppProvider;\n","/Users/liebchen/Code/kitteh/src/AnimalList.js",["69"],"import { Box, Button, Flex, Input, Text } from \"theme-ui\";\nimport { Link } from \"react-router-dom\";\nimport { useAnimals, useAirtable } from \"./hooks\";\nimport { useContext, useState, useEffect } from \"react\";\nimport AppContext from \"./AppContext\";\nimport dayjs from \"dayjs\";\nimport Weight from \"./Weight\";\nimport { toast } from \"react-toastify\";\n\nconst AnimalList = props => {\n  const { timestamp } = useContext(AppContext);\n  const [weightsInput, setWeightsInput] = useState([]);\n  const { animals, weights } = useAnimals(props.fosterName);\n  const airtable = useAirtable();\n\n  useEffect(\n    () =>\n      animals.length > 0 &&\n      weightsInput.length === 0 &&\n      setWeightsInput(\n        animals.map(animal => {\n          return { Animal: [animal.id], Weight: false };\n        })\n      )\n  );\n\n  const createWeights = weights => {\n    const payload = weights.map(weight => {\n      weight.Recorded = timestamp === \"now\" ? Date.now() : timestamp;\n\n      return {\n        fields: { ...weight, Recorded: timestamp }\n      };\n    });\n\n    airtable(\"Weights\").create(payload, (error, records) => {\n      error\n        ? toast.error(\"Something went wrong\")\n        : toast.success(\"Weights added\");\n    });\n  };\n\n  return (\n    <Box>\n      <Box\n        as=\"form\"\n        onSubmit={event => {\n          event.preventDefault();\n          createWeights(weightsInput);\n          setWeightsInput([]);\n        }}\n      >\n        {weightsInput.map((weightInput, i) => {\n          const lastWeight = weights.filter(\n            weight => weightInput.Animal[0] === weight.fields.Animal[0]\n          )[0];\n\n          const animal = animals.find(\n            animal => animal.id === weightInput.Animal[0]\n          );\n\n          return (\n            <Flex\n              key={weightInput.Animal}\n              sx={{\n                gap: 2,\n                alignItems: \"center\",\n                flexDirection: \"column\",\n                pb: 3\n              }}\n            >\n              <Flex sx={{ justifyContent: \"space-between\", width: \"100%\" }}>\n                <Link to={`/animals/${weightInput.Animal}`}>\n                  <Text sx={{ fontWeight: \"bold\" }}>{animal.fields.Name}</Text>\n                </Link>\n                {lastWeight && (\n                  <Text>\n                    Last weight <Weight value={lastWeight.fields.Weight} />{\" \"}\n                    recorded at{\" \"}\n                    {dayjs(lastWeight.fields.Recorded).format(\n                      \"h:mma [on] MMM D\"\n                    )}\n                  </Text>\n                )}\n              </Flex>\n              <Input\n                type=\"number\"\n                placeholder={`Add a new weight for ${animal.fields.Name}`}\n                onChange={event => {\n                  weightsInput[i].Weight = parseInt(event.target.value);\n                  setWeightsInput(weightsInput);\n                }}\n              />\n            </Flex>\n          );\n        })}\n        <Button\n          as=\"input\"\n          type=\"submit\"\n          disabled={weightsInput.length === 0}\n          value=\"Save\"\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default AnimalList;\n","/Users/liebchen/Code/kitteh/src/Foster.js",[],"/Users/liebchen/Code/kitteh/src/hooks.js",["70","71"],"import { useContext, useState, useEffect } from \"react\";\nimport AppContext from \"./AppContext\";\nimport Airtable from \"airtable\";\n\nAirtable.configure({\n  endpointUrl: \"https://api.airtable.com\",\n  apiKey: process.env.REACT_APP_AIRTABLE_KEY\n});\n\nexport const useAirtable = () =>\n  Airtable.base(process.env.REACT_APP_AIRTABLE_BASE);\n\nexport const useAnimals = fosterName => {\n  const airtable = useAirtable();\n  const [animals, setAnimals] = useState([]);\n  const [weights, setWeights] = useState([]);\n\n  useEffect(() => {\n    const query = {\n      filterByFormula: `{Foster} = \"${fosterName}\"`\n    };\n\n    async function fetchWeights() {\n      airtable(\"Weights\")\n        .select(query)\n        .eachPage(function page(records, fetchNextPage) {\n          setWeights(records);\n          fetchNextPage();\n        });\n    }\n\n    async function fetchAnimals() {\n      airtable(\"Animals\")\n        .select(query)\n        .eachPage(\n          function page(records, fetchNextPage) {\n            setAnimals(records);\n            fetchNextPage();\n          },\n          function done(err) {\n            err && console.error(err);\n          }\n        );\n    }\n\n    fetchWeights();\n    fetchAnimals();\n  }, [airtable, fosterName]);\n\n  return { animals, weights };\n};\n\nexport const useAnimal = animalId => {\n  const airtable = useAirtable();\n  const [animal, setAnimal] = useState({});\n  const [weights, setWeights] = useState([]);\n\n  useEffect(() => {\n    async function fetchAnimal() {\n      airtable(\"Animals\").find(animalId, (error, record) => {\n        setAnimal(record);\n        airtable(\"Weights\")\n          .select({\n            filterByFormula: `{Animal} = \"${record.fields.Name}\"`,\n            sort: [{ field: \"Recorded\", direction: \"desc\" }]\n          })\n          .eachPage(function page(records, fetchNextPage) {\n            setWeights(records);\n            fetchNextPage();\n          });\n      });\n    }\n\n    fetchAnimal();\n  }, []);\n\n  return { animal, weights };\n};\n\nexport const useFoster = fosterName => {\n  const airtable = useAirtable();\n  const { setUnit } = useContext(AppContext);\n  const [foster, setFoster] = useState({});\n\n  useEffect(() => {\n    async function fetchFoster() {\n      airtable(\"People\")\n        .select({\n          filterByFormula: `{Name} = \"${fosterName}\"`\n        })\n        .eachPage(function page(records, fetchNextPage) {\n          const foster = records[0];\n          setFoster(foster);\n          setUnit(foster.fields[\"Display units\"]);\n          fetchNextPage();\n        });\n    }\n\n    fetchFoster();\n  }, [airtable, fosterName]);\n\n  return foster;\n};\n","/Users/liebchen/Code/kitteh/src/Animal.js",["72"],"import { Box, Button, Input, Flex, Heading, Progress, Text } from \"theme-ui\";\nimport { useAnimal, useAirtable } from \"./hooks\";\nimport { useContext, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport AppContext from \"./AppContext\";\nimport dayjs from \"dayjs\";\nimport TimeSelect from \"./TimeSelect\";\nimport Weight from \"./Weight\";\nimport UnitSelect from \"./UnitSelect\";\nimport { toast } from \"react-toastify\";\nimport { units } from \"./helpers\";\n\nconst columnWidths = [\"15%\", \"10%\", \"75%\"];\n\nconst Animal = props => {\n  const { unit, timestamp } = useContext(AppContext);\n  const [weight, setWeight] = useState(\"\");\n  const { animalId } = useParams();\n  const { animal, weights } = useAnimal(animalId);\n  const airtable = useAirtable();\n\n  // TODO: Refresh data when new weight submitted\n  // TODO: Breadcrumbs in header back to Foster\n  // TODO: Links to siblings\n\n  const createWeight = (weight, id) => {\n    const weightInt = parseInt(weight, 10);\n    const weightInGrams = unit === \"grams\" ? weightInt : weightInt * 28.35;\n\n    const payload = [\n      {\n        fields: {\n          Weight: weightInGrams,\n          Animal: [id],\n          Recorded: timestamp === \"now\" ? Date.now() : timestamp\n        }\n      }\n    ];\n\n    airtable(\"Weights\").create(payload, (error, records) => {\n      error\n        ? toast.error(\"Something went wrong\")\n        : toast.success(\"Weight added\");\n    });\n\n    setWeight(false);\n  };\n\n  return (\n    Object.keys(animal).length > 0 && (\n      <Box p={3}>\n        <Flex\n          sx={{ alignItems: \"center\", justifyContent: \"space-between\", mb: 3 }}\n        >\n          <Heading>{animal.fields.Name}</Heading>\n        </Flex>\n        <Flex\n          as=\"form\"\n          sx={{ alignItems: \"center\", gap: 2, mb: 3 }}\n          onSubmit={event => {\n            event.preventDefault();\n            createWeight(weight, animal.id);\n            setWeight(\"\");\n          }}\n        >\n          <Input\n            type=\"number\"\n            step={0.01}\n            value={weight}\n            placeholder={`Add a new weight for ${animal.fields.Name}`}\n            onChange={event => setWeight(event.target.value)}\n          />\n          <UnitSelect />\n          <TimeSelect />\n          <Button>Send</Button>\n        </Flex>\n        <Box>\n          <Flex sx={{ gap: 3, textDecoration: \"underline\" }}>\n            <Text sx={{ width: columnWidths[0] }}>Date</Text>\n            <Text sx={{ width: columnWidths[1], textAlign: \"right\", pr: 2 }}>\n              Weight\n            </Text>\n          </Flex>\n          {weights.map(weight => (\n            <Flex key={weight.id} sx={{ gap: 3, alignItems: \"center\" }}>\n              <Text sx={{ width: columnWidths[0] }}>\n                {dayjs(weight.fields.Recorded).format(\"h:mma [on] MMM D\")}\n              </Text>\n              <Text\n                sx={{\n                  width: columnWidths[1],\n                  textAlign: \"right\",\n                  fontWeight: \"bold\"\n                }}\n              >\n                <Weight value={weight.fields.Weight} />\n              </Text>\n              <Progress\n                max={10}\n                value={weight.fields.Weight}\n                sx={{ bg: \"muted\", width: columnWidths[2] }}\n              />\n            </Flex>\n          ))}\n        </Box>\n      </Box>\n    )\n  );\n};\n\nexport default Animal;\n","/Users/liebchen/Code/kitteh/src/theme.js",["73"],"const controlBase = {\n  bg: \"muted\",\n  border: 0,\n  borderRadius: 2,\n  px: 3\n};\n\nexport default {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512],\n  fonts: {\n    body:\n      'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", sans-serif',\n    heading: \"inherit\",\n    monospace: \"Menlo, monospace\"\n  },\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 96],\n  fontWeights: {\n    body: 400,\n    heading: 700,\n    bold: 700\n  },\n  lineHeights: {\n    body: 1.5,\n    heading: 1.125\n  },\n  colors: {\n    text: \"#000\",\n    background: \"#fff\",\n    primary: \"#07c\",\n    secondary: \"#30c\",\n    muted: \"rgba(0, 0, 0, 0.05)\"\n  },\n  sizes: {},\n  buttons: {\n    primary: {\n      ...controlBase,\n      fontWeight: \"bold\",\n      flexShrink: 0,\n      bg: \"primary\"\n    },\n    secondary: {\n      ...controlBase,\n      flexShrink: 0,\n      color: \"primary\"\n    }\n  },\n  forms: {\n    select: {\n      ...controlBase,\n      color: \"primary\"\n    },\n    input: {\n      ...controlBase\n    }\n  },\n  radii: [0, 4, 8, 12],\n  styles: {\n    root: {\n      fontFamily: \"body\",\n      lineHeight: \"body\",\n      fontWeight: \"body\"\n    },\n    h1: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 5\n    },\n    h2: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 4\n    },\n    h3: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 3\n    },\n    h4: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 2\n    },\n    h5: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 1\n    },\n    h6: {\n      color: \"text\",\n      fontFamily: \"heading\",\n      lineHeight: \"heading\",\n      fontWeight: \"heading\",\n      fontSize: 0\n    },\n    p: {\n      color: \"text\",\n      fontFamily: \"body\",\n      fontWeight: \"body\",\n      lineHeight: \"body\"\n    },\n    a: {\n      color: \"primary\"\n    },\n    pre: {\n      fontFamily: \"monospace\",\n      overflowX: \"auto\",\n      code: {\n        color: \"inherit\"\n      }\n    },\n    code: {\n      fontFamily: \"monospace\",\n      fontSize: \"inherit\"\n    },\n    table: {\n      width: \"100%\",\n      borderCollapse: \"separate\",\n      borderSpacing: 0\n    },\n    th: {\n      textAlign: \"left\",\n      borderBottomStyle: \"solid\"\n    },\n    td: {\n      textAlign: \"left\",\n      borderBottomStyle: \"solid\"\n    },\n    img: {\n      maxWidth: \"100%\"\n    }\n  }\n};\n","/Users/liebchen/Code/kitteh/src/TimeSelect.js",[],"/Users/liebchen/Code/kitteh/src/UnitSelect.js",[],"/Users/liebchen/Code/kitteh/src/helpers.js",[],"/Users/liebchen/Code/kitteh/src/Weight.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":1,"column":10,"nodeType":"80","messageId":"81","endLine":1,"endColumn":15},{"ruleId":"78","severity":1,"message":"82","line":2,"column":8,"nodeType":"80","messageId":"81","endLine":2,"endColumn":16},{"ruleId":"78","severity":1,"message":"83","line":5,"column":10,"nodeType":"80","messageId":"81","endLine":5,"endColumn":21},{"ruleId":"84","severity":1,"message":"85","line":16,"column":3,"nodeType":"80","endLine":16,"endColumn":12,"suggestions":"86"},{"ruleId":"84","severity":1,"message":"87","line":75,"column":6,"nodeType":"88","endLine":75,"endColumn":8,"suggestions":"89"},{"ruleId":"84","severity":1,"message":"90","line":100,"column":6,"nodeType":"88","endLine":100,"endColumn":28,"suggestions":"91"},{"ruleId":"78","severity":1,"message":"92","line":11,"column":10,"nodeType":"80","messageId":"81","endLine":11,"endColumn":15},{"ruleId":"93","severity":1,"message":"94","line":8,"column":1,"nodeType":"95","endLine":142,"endColumn":3},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'toast' is defined but never used.","Identifier","unusedVar","'Airtable' is defined but never used.","'useAirtable' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setWeightsInput'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [animals, weightsInput.length] as a second argument to the useEffect Hook.",["98"],"React Hook useEffect has missing dependencies: 'airtable' and 'animalId'. Either include them or remove the dependency array.","ArrayExpression",["99"],"React Hook useEffect has a missing dependency: 'setUnit'. Either include it or remove the dependency array.",["100"],"'units' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"desc":"101","fix":"102"},{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},"Add dependencies array: [animals, weightsInput.length]",{"range":"107","text":"108"},"Update the dependencies array to be: [airtable, animalId]",{"range":"109","text":"110"},"Update the dependencies array to be: [airtable, fosterName, setUnit]",{"range":"111","text":"112"},[792,792],", [animals, weightsInput.length]",[1930,1932],"[airtable, animalId]",[2544,2566],"[airtable, fosterName, setUnit]"]